"use strict";(self.webpackChunkquote_rater=self.webpackChunkquote_rater||[]).push([[691],{2501:function(e,t,n){n.r(t),n.d(t,{default:function(){return q}});var r=n(7294),o=n(2896),u="home-module--card--f-c4b",a=n(5804);function l(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var c=/### +(.*)\n```\n((?:.|\n)*?)\n—(.*)\n```\n((?:- +.+\n)*)/gm;function s(e){return{should_render:e.should_render,quotes_order:e.quotes_order,adj:e.adj,link:e.link,size:e.size,left_idx:e.left_idx,right_idx:e.right_idx,quotes_amount:e.quotes_amount,components_amount:e.components_amount}}function d(e,t,n){void 0===t&&(t=""),void 0===n&&(n=function(){}),e.url=t,function(e,t){var n=new XMLHttpRequest;n.onload=function(){200==n.status?t(n.responseText):console.error("Failed to load '"+e+"' with status "+n.status)},n.onerror=function(){console.error("Failed to load '"+e+"'")},n.open("GET",e,!0),n.send()}(t,(function(t){for(var r;r=c.exec(t);)e.quotes.push({origin:r[1],text:r[2],author:r[3],comments:r[4]});n(function(e){return{quotes:e.quotes,url:e.url}}(e))}))}function m(e,t){e.quotes_amount=t.quotes.length,e.should_render=!0;for(var n=0;n<e.quotes_amount;++n)e.adj.push([]),e.link[n]=n,e.size[n]=1;return e.components_amount=e.quotes_amount,function(e){e.quotes_order=[];for(var t=[],n=0;n<e.quotes_amount;++n)t.push(0);for(var r=0;r<e.quotes_amount;++r)p(e,r,t)}(e),s(e)}function f(e){do{e.left_idx=Math.floor(Math.random()*e.quotes_amount),e.right_idx=Math.floor(Math.random()*e.quotes_amount)}while(h(e,e.left_idx,e.right_idx));return console.log("using quotes "+e.left_idx+" and "+e.right_idx),s(e)}function _(e,t){for(;t!=e.link[t];)t=e.link[t];return t}function h(e,t,n){return _(e,t)==_(e,n)}function p(e,t,n){if(2!=n[t]){n[t]=1;for(var r,o=l(e.adj[t]);!(r=o()).done;){p(e,r.value,n)}e.quotes_order.push(t),n[t]=2}}var q=function(e){var t=(0,r.useState)({quotes:[],url:""}),n=t[0],i=t[1],c=(0,r.useState)({should_render:!1,quotes_order:[],adj:[],link:[],size:[],left_idx:-1,right_idx:-1,quotes_amount:0,components_amount:0}),s=c[0],_=c[1];return(0,r.useEffect)((function(){var e=new URLSearchParams(location.search).get("quotes_url"),t=document.getElementById("quotes_url_input");""==t.value&&(t.value=e||"")})),r.createElement(o.Z,null,r.createElement(a.Z,{heading:"Quote Rater"}),r.createElement("label",{htmlFor:"quotes_url_input"},"Input Quotes URL: "),r.createElement("input",{id:"quotes_url_input",type:"text"}),r.createElement("br",null),r.createElement("button",{onClick:function(){var e=new URLSearchParams(location.search),t=document.getElementById("quotes_url_input").value;e.set("quotes_url",t),window.history.replaceState({},"",location.pathname+"?"+e.toString()),d(n,t,(function(e){i(e),m(s,e),_((function(e){return f(e)}))}))}},"Load"),s.should_render&&r.createElement("div",null,r.createElement("p",null,"quotes: ",s.quotes_amount),r.createElement("p",null,"components: ",s.components_amount),r.createElement("div",{className:"home-module--cards--s7NCE"},r.createElement("div",{className:u},r.createElement("pre",null,r.createElement("code",null,function(e,t){return e.quotes[t.left_idx]}(n,s).text))),r.createElement("div",{className:u},r.createElement("pre",null,r.createElement("code",null,function(e,t){return e.quotes[t.right_idx]}(n,s).text)))),r.createElement("button",{onClick:function(){_((function(e){return f(e)}))}},"Left Better"),r.createElement("button",{onClick:function(){_((function(e){return f(e)}))}},"Roughly Equal"),r.createElement("button",{onClick:function(){_((function(e){return f(e)}))}},"Right Better"),r.createElement("h1",null,"Ordered Quotes:"),r.createElement("pre",null,r.createElement("code",null,function(e,t){for(var n,r="",o=l(t.quotes_order);!(n=o()).done;){var u=n.value,a=e.quotes[u];r+="### "+a.origin+"\n```\n"+a.text+"\n—"+a.author+"\n```\n"+a.comments+"\n"}return r}(n,s)))))}}}]);
//# sourceMappingURL=component---src-pages-index-tsx-238506d0b3f1ccb639aa.js.map